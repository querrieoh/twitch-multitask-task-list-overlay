<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta author="jujoco" />
		<meta
			name="keywords"
			content="twitch, chat, taskList, jujoco"
		/>
		<meta name="description" content="A Task list for twitch chat" />
		<link
			rel="icon"
			type="image/png"
			href="https://github.githubassets.com/favicons/favicon-dark.png"
		/>
		<link rel="stylesheet" type="text/css" href="./styles/index.css" />
		<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>
		<script defer src="./_auth.js"></script>
		<script defer src="./_configAdmin.js"></script>
		<script defer src="./_configUser.js"></script>
		<script defer src="./_settings.js"></script>
		<script defer src="./_styles.js"></script>
		<script defer src="./dist/taskBot.iife.js"></script>
		<title>Multi Task List</title>
	</head>

	<body>
		<main id="app">
			<div class="header">
				<div class="header-features">
					<div class="timer hidden">
						<span
							class="timer-title transition-opacity duration-600"
							>Break</span
						>
						<span
							class="timer-countdown transition-opacity duration-600"
							>00:00</span
						>
					</div>

					<div class="command-tips hidden">
						<spans
							class="command-code transition-opacity duration-600"
							>!help</spans
						>
					</div>

					<div class="custom-header hidden">
						<span class="custom-text">Custom Header Text</span>
					</div>

					<div class="task-title">
						<span class="task-title">tasks</span>
						<span class="task-count">0/0</span>
					</div>
				</div>
			</div>

			<!-- New Section: Controls for Adding Tasks and Setting Goals -->
			<div class="controls">
				<!-- Task Input Form -->
				<form id="task-form" class="task-form">
					<input
						type="text"
						id="task-name"
						placeholder="Task Name"
						required
					/>
					<input
						type="number"
						id="task-value"
						placeholder="Task Value"
						min="1"
						required
					/>
					<button type="submit">Add Task</button>
				</form>

				<!-- Goal Settings -->
				<div id="goal-settings" class="goal-settings">
					<label class="auto-set-label">
						<input
							type="checkbox"
							id="auto-set-goal"
							checked
						/>
						Auto-set Goal based on Total Task Values
					</label>
					<div id="manual-goal" class="manual-goal" style="display: none;">
						<input
							type="number"
							id="goal-value"
							placeholder="Set Goal Value"
							min="1"
						/>
					</div>
				</div>

				<!-- Progress Bar -->
				<div id="progress-container" class="progress-container">
					<div id="progress-bar" class="progress-bar"></div>
				</div>
				<p id="progress-text" class="progress-text">0%</p>
			</div>
			<!-- End of New Controls Section -->

			<div class="task-wrapper">
				<div class="task-container primary"></div>
				<div class="task-container secondary"></div>
			</div>
			<audio id="audioSample" src="./media/breakTime.mp3"></audio>
		</main>

		<div id="modal"	class="modal hidden justify-center items-center absolute">
			<div class="modal-content">
				<h2 class="modal-header">Invalid oAuth access token</h2>
				<div class="modal-body">
					<p>Possible Reasons:</p>	
					<ul class="modal-list">
						<li>Token entered incorrectly.</li>
						<li>Token could have expired. Generate a new access token.</li>
					</ul>
				</div>
			</div>	
		</div>

		<!-- Optional: Include JavaScript for handling the new controls -->
		<script>
			// Example: Handling the display of manual goal input
			document
				.getElementById('auto-set-goal')
				.addEventListener('change', function(e) {
					const manualGoal = document.getElementById('manual-goal');
					if (e.target.checked) {
						manualGoal.style.display = 'none';
					} else {
						manualGoal.style.display = 'block';
					}
			});
		</script>
	</body>
</html>
